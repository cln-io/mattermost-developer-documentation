---
title: Webhooks
heading: App webhooks
weight: 30
aliases:
  - /integrate/apps/api/third-party-webhooks/
  - /integrate/apps/using-third-party-api/
  - /integrate/apps/using-third-party-api/hello-webhooks/
---
The Apps framework offers the ability to directly integrate with webhooks. An App webhook is executed through a special endpoint on the Mattermost Server and requires an authentication secret.
The App manifest needs to request the `remote_webhooks` permission to use webhooks.

The App webhook URL has the following format:

```
<MM_URL>/plugins/com.mattermost.apps/apps/<APP_ID>/webhook/<SUB_PATH>?secret=<WEBHOOK_SECRET>
```

| Parameter name   | Description                                                                              | Example value                   |
|------------------|------------------------------------------------------------------------------------------|---------------------------------|
| `MM_URL`         | The base URL of the Mattermost server.                                                   | `https://my-mattermost-server/` |
| `APP_ID`         | The App's ID as found in the [manifest]({{<ref "/integrate/apps/structure/manifest">}})  | `my-app`                        |
| `SUB_PATH`       | An arbitrary endpoint path defined by the App                                            | `my-endpoint`                   |
| `WEBHOOK_SECRET` | A secret key generated by the Mattermost server that is used to authenticate the request | `9a44ckeqytd3bftn3c3y53968o`    |

Using the above example values, the webhook URL will look like this:

`http://my-mattermost-server/plugins/com.mattermost.apps/apps/my-app/webhook/my-endpoint?secret=9a44ckeqytd3bftn3c3y53968o`

When the external integration sends a `HTTP POST` request to this endpoint, your App will receive the request at the endpoint `/webhook/my-endpoint`. The same webhook URL can be used to process `HTTP HEAD` requests, in case the external integration requires this for webhook validation. The `/my-endpoint` part of the above URL is optional, and it can be defined as any string value.

### Webhook secret

When the App is first installed, the App framework creates a secret to use for authenticating incoming webhook requests. Any incoming requests will be automatically validated by the framework. Only correctly authenticated requests will be sent to your App.

When the App is first installed, the `OnInstall` [call]({{<ref "/integrate/apps/structure/call">}}) handler will receive a context value of `app.webhook_secret` in the request. You can use this secret to construct your webhook URL.

{{<note>}}
The `OnInstall` call must have the `app` expand field set to `all` for the generated webhook secret key to be populated in the call request. You can set this expand field for any other call as well, and your App will receive the webhook secret if the current user is a system admin.
{{</note>}}

For example, an Golang App's [manifest]({{<ref "/integrate/apps/structure/manifest">}}) would define an `OnInstall` call to get the secret like this:

```go
appManifest = apps.Manifest{
    AppID:       apps.AppID("hello-world"),
    Version:     apps.AppVersion("0.1.0"),
    HomepageURL: "https://my-site/my-repo",
    DisplayName: "Hello, world!",
    RequestedPermissions: apps.Permissions{
        apps.PermissionActAsBot,
        apps.PermissionRemoteWebhooks,
    },
    RequestedLocations: apps.Locations{
        apps.LocationChannelHeader,
        apps.LocationCommand,
        apps.LocationPostMenu,
    },
    Deploy: apps.Deploy{
        HTTP: &apps.HTTP{
            RootURL: "http://my-site:4000",
        },
    },
    OnInstall: &apps.Call{
        Path: "/installed",
        Expand: &apps.Expand{
            App: apps.ExpandAll,
        },
    },
}
```

The `context` of the call request will look like the following:

```json
{
    "path": "/installed",
    "context": {
        "app_id": "my-app",
        "developer_mode": true,
        "app": {
            "app_id": "my-app",
            "version": "0.1.0",
            "webhook_secret": "9a44ckeqytd3bftn3c3y53968o",
            "bot_user_id": "7q7kaakokfdsdycy3pr9ctkc5r",
            "bot_username": "my-app"
        },
        "oauth2": {}
    }
}
```

### Example


An example of implementing App webhooks can be found in the {{<newtabref title="Mattermost apps examples repo" href="https://github.com/mattermost/mattermost-app-examples/tree/master/golang/webhooks">}}.
